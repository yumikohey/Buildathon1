# Bible Here WordPress Plugin 產品需求文檔

## 1. Product Overview

Bible Here 是一個專為 WordPress 設計的基督教聖經插件，讓使用者能夠在手機和電腦上翻閱、檢索並比對不同語言版本的聖經、註釋、串珠和 Strong Number。

插件將發佈在 WordPress.org 官方插件庫，為全球基督教社群提供完整的聖經研讀工具，支持多語言版本和響應式設計。

目標是成為 WordPress 平台上最完整且易用的聖經研讀插件，服務全球基督教網站和個人博客。

## 2. Core Features

### 2.1 User Roles

| Role          | Registration Method | Core Permissions        |
| ------------- | ------------------- | ----------------------- |
| 訪客用戶          | 無需註冊                | 可瀏覽聖經、搜尋經文、使用比對功能       |
| WordPress 管理員 | WordPress 後台登入      | 可匯入聖經版本、管理插件設定、啟用標示經文功能 |

### 2.2 Feature Module

我們的聖經插件包含以下主要頁面：

1. **聖經閱讀頁面**：聖經版本選擇器、書卷章節導航、經文顯示區域、註釋按鈕、搜尋功能
2. **管理員設定頁面**：聖經版本管理、匯入功能、標示經文設定、插件配置
3. **聖經搜尋頁面**：全文搜尋介面、搜尋結果顯示、進階篩選選項

### 2.3 Page Details

| Page Name | Module Name | Feature description                   |
| --------- | ----------- | ------------------------------------- |
| 聖經閱讀頁面    | 版本選擇器       | 提供下拉選單選擇不同語言和版本的聖經，支持並排比對顯示           |
| 聖經閱讀頁面    | 書卷章節導航      | 提供書卷列表、章節選擇，支持快速跳轉和前後章節導航             |
| 聖經閱讀頁面    | 經文顯示區域      | 響應式經文顯示，電腦版並排，手機版上下排列，包含節數標記          |
| 聖經閱讀頁面    | 註釋功能        | 每節經文旁的註釋按鈕，點擊顯示相關註釋、串珠和 Strong Number |
| 聖經閱讀頁面    | 搜尋功能        | 全文搜尋經文內容，支持關鍵字高亮和結果導航                 |
| 管理員設定頁面   | 聖經版本管理      | 列出已安裝和可下載的聖經版本，提供安裝/卸載功能              |
| 管理員設定頁面   | 遠端匯入功能      | 從 Zefania XML 格式匯入聖經，自動創建資料表和載入資料     |
| 管理員設定頁面   | 標示經文設定      | 啟用/停用自動識別經文引用功能，配置 popover 顯示選項       |
| 聖經搜尋頁面    | 搜尋介面        | 提供搜尋輸入框、版本篩選、書卷範圍選擇等進階選項              |
| 聖經搜尋頁面    | 結果顯示        | 分頁顯示搜尋結果，包含經文預覽和快速跳轉連結                |

## 3. Core Process

### 一般用戶流程

1. 用戶進入聖經閱讀頁面
2. 選擇聖經版本和語言
3. 選擇書卷和章節
4. 閱讀經文，可點擊註釋按鈕查看詳細資訊
5. 使用搜尋功能查找特定經文
6. 在其他頁面/文章中，經文引用會自動顯示 popover

### 管理員流程

1. 登入 WordPress 後台
2. 進入 Bible Here 插件設定頁面
3. 管理聖經版本（安裝/卸載）
4. 從遠端匯入新的聖經版本
5. 配置標示經文功能
6. 設定插件的全域選項

```mermaid
graph TD
    A[聖經閱讀頁面] --> B[聖經搜尋頁面]
    A --> C[管理員設定頁面]
    C --> A
    B --> A
```

## 4. User Interface Design

### 4.1 Design Style

* **主要顏色**：深藍色 (#2563eb) 作為主色調，淺灰色 (#f8fafc) 作為背景色

* **按鈕樣式**：圓角按鈕設計，具有 hover 效果和 focus 狀態

* **字體**：系統字體堆疊，中文支持思源黑體，英文使用 Inter 或 system-ui

* **佈局風格**：卡片式設計，清晰的層次結構，充足的留白空間

* **圖標樣式**：使用 Heroicons 或類似的簡潔線條圖標

### 4.2 Page Design Overview

| Page Name | Module Name | UI Elements                   |
| --------- | ----------- | ----------------------------- |
| 聖經閱讀頁面    | 版本選擇器       | 雙欄下拉選單，左側主要版本，右側比對版本，具有搜尋功能   |
| 聖經閱讀頁面    | 書卷導航        | 分類標籤（舊約/新約），書卷網格佈局，章節數字按鈕     |
| 聖經閱讀頁面    | 經文顯示        | 雙欄佈局（桌面），單欄堆疊（手機），節數標記，註釋圖標按鈕 |
| 管理員設定頁面   | 版本管理        | 表格列表，狀態指示器，操作按鈕，進度條（匯入時）      |
| 聖經搜尋頁面    | 搜尋介面        | 搜尋輸入框，篩選側邊欄，結果卡片佈局，分頁導航       |

### 4.3 Responsiveness

插件採用移動優先的響應式設計，在桌面端提供並排比對功能，在手機端自動調整為上下堆疊佈局。支持觸控操作優化，包括適當的按鈕大小和手勢導航。

## 5. Technical Requirements

### 5.1 Database Requirements

* MySQL/MariaDB 5.5.3+ (支持 utf8mb4)

* InnoDB 引擎支持全文搜尋

* MySQL 5.7.6+ 或 MariaDB 10.0.15+ (FULLTEXT 索引優化)

### 5.2 WordPress Requirements

* WordPress 5.0+

* PHP 7.4+

* 遵循 WordPress Plugin Boilerplate 結構

### 5.3 External Dependencies

* Zefania XML 格式支持

* AJAX 技術用於動態載入

* HTML Popover API 或 Dialog 元素

